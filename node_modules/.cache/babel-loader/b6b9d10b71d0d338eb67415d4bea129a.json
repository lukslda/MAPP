{"ast":null,"code":"import _slicedToArray from \"/home/lucas/Escritorio/programacion/react/Proyectos_Udemy_React/propios/mapp/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/lucas/Escritorio/programacion/react/Proyectos_Udemy_React/propios/mapp/src/App.js\";\nimport React, { useState, useEffect, Fragment } from 'react';\nimport { Map, Marker, Popup, TileLayer } from 'react-leaflet';\nimport { Icon, popup } from 'leaflet';\nimport \"./app.css\";\nimport axios from 'axios';\n\nfunction App() {\n  //state principal\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        ubicacion = _useState2[0],\n        guardarUbicacion = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        latitude = _useState4[0],\n        guardarlatitude = _useState4[1];\n\n  const _useState5 = useState(''),\n        _useState6 = _slicedToArray(_useState5, 2),\n        longitude = _useState6[0],\n        guardarlongitude = _useState6[1];\n\n  const icon = new Icon({\n    iconUrl: '/iconocarne.png.png',\n    iconSize: [25, 25]\n  });\n\n  const _useState7 = useState(null),\n        _useState8 = _slicedToArray(_useState7, 2),\n        ubicacionActiva = _useState8[0],\n        guardarUbicacionActiva = _useState8[1];\n\n  useEffect(() => {\n    const consultarAPI = async () => {\n      //trae las etiquetas, las categorias de cada negocio\n      //\"http://tarjetafamilia.catamarca.gob.ar/api/v1/commerce-tags/\"\n      const url = 'https://tarjetafamilia.catamarca.gob.ar/api/v1/commerce/';\n      const resultado = await axios.get(url);\n      guardarUbicacion(resultado.data.data); //genera multiples consultas generando un bucle infinito\n\n      guardarlatitude(resultado.data.data[0].attributes.point.coordinates[1]);\n      guardarlongitude(resultado.data.data[0].attributes.point.coordinates[0]); //otra forma de obtener la respuesta de la API comerce\n      // const url = 'https://tarjetafamilia.catamarca.gob.ar/api/v1/commerce/';\n      // const respuesta = await fetch(url);\n      // const resultado = await respuesta.json();\n      // guardarUbicacion(resultado.data);\n    };\n\n    consultarAPI();\n  }, []);\n  return React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \" MAPP \"), React.createElement(\"div\", {\n    className: \"mapaCentrado\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(Map, {\n    center: [-28.468248, -65.778944],\n    zoom: 13,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(TileLayer, {\n    url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n    attribution: \"\\xA9 <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }), ubicacion.map(comercio => React.createElement(Marker, {\n    key: comercio.id,\n    position: [latitude, longitude],\n    icon: icon,\n    onclick: () => {\n      guardarUbicacionActiva(comercio);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  })), ubicacionActiva && React.createElement(Popup, {\n    position: [latitude, longitude],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \" \", React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"Hola\")))));\n}\n\nexport default App;","map":{"version":3,"sources":["/home/lucas/Escritorio/programacion/react/Proyectos_Udemy_React/propios/mapp/src/App.js"],"names":["React","useState","useEffect","Fragment","Map","Marker","Popup","TileLayer","Icon","popup","axios","App","ubicacion","guardarUbicacion","latitude","guardarlatitude","longitude","guardarlongitude","icon","iconUrl","iconSize","ubicacionActiva","guardarUbicacionActiva","consultarAPI","url","resultado","get","data","attributes","point","coordinates","map","comercio","id"],"mappings":";;AAAA,OAAOA,KAAP,IAAiBC,QAAjB,EAA2BC,SAA3B,EAAsCC,QAAtC,QAAsD,OAAtD;AACA,SAASC,GAAT,EAAcC,MAAd,EAAsBC,KAAtB,EAA6BC,SAA7B,QAA8C,eAA9C;AACA,SAASC,IAAT,EAAeC,KAAf,QAA4B,SAA5B;AACA,OAAO,WAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAGA,SAASC,GAAT,GAAe;AAEb;AAFa,oBAG2BV,QAAQ,CAAC,EAAD,CAHnC;AAAA;AAAA,QAGLW,SAHK;AAAA,QAGMC,gBAHN;;AAAA,qBAKyBZ,QAAQ,CAAC,EAAD,CALjC;AAAA;AAAA,QAKLa,QALK;AAAA,QAKKC,eALL;;AAAA,qBAM2Bd,QAAQ,CAAC,EAAD,CANnC;AAAA;AAAA,QAMLe,SANK;AAAA,QAMMC,gBANN;;AAQb,QAAMC,IAAI,GAAG,IAAIV,IAAJ,CAAS;AACpBW,IAAAA,OAAO,EAAE,qBADW;AAEpBC,IAAAA,QAAQ,EAAE,CAAC,EAAD,EAAK,EAAL;AAFU,GAAT,CAAb;;AARa,qBAaqCnB,QAAQ,CAAC,IAAD,CAb7C;AAAA;AAAA,QAaNoB,eAbM;AAAA,QAaWC,sBAbX;;AAebpB,EAAAA,SAAS,CAAE,MAAM;AACf,UAAMqB,YAAY,GAAG,YAAY;AAE/B;AACA;AAEA,YAAMC,GAAG,GAAG,0DAAZ;AACA,YAAMC,SAAS,GAAG,MAAMf,KAAK,CAACgB,GAAN,CAAUF,GAAV,CAAxB;AACAX,MAAAA,gBAAgB,CAACY,SAAS,CAACE,IAAV,CAAeA,IAAhB,CAAhB,CAP+B,CAOQ;;AAGvCZ,MAAAA,eAAe,CAACU,SAAS,CAACE,IAAV,CAAeA,IAAf,CAAoB,CAApB,EAAuBC,UAAvB,CAAkCC,KAAlC,CAAwCC,WAAxC,CAAoD,CAApD,CAAD,CAAf;AACAb,MAAAA,gBAAgB,CAACQ,SAAS,CAACE,IAAV,CAAeA,IAAf,CAAoB,CAApB,EAAuBC,UAAvB,CAAkCC,KAAlC,CAAwCC,WAAxC,CAAoD,CAApD,CAAD,CAAhB,CAX+B,CAc/B;AACA;AACA;AACA;AAEA;AACD,KApBD;;AAqBAP,IAAAA,YAAY;AACb,GAvBQ,EAuBP,EAvBO,CAAT;AA0BA,SAEE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,EAIE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,GAAD;AAAK,IAAA,MAAM,EAAE,CAAC,CAAC,SAAF,EAAa,CAAC,SAAd,CAAb;AAAuC,IAAA,IAAI,EAAE,EAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,SAAD;AACE,IAAA,GAAG,EAAC,oDADN;AAEE,IAAA,WAAW,EAAC,0EAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAMMX,SAAS,CAACmB,GAAV,CAAeC,QAAQ,IACvB,oBAAC,MAAD;AACE,IAAA,GAAG,EAAEA,QAAQ,CAACC,EADhB;AAEE,IAAA,QAAQ,EAAE,CAACnB,QAAD,EAAWE,SAAX,CAFZ;AAGE,IAAA,IAAI,EAAEE,IAHR;AAIE,IAAA,OAAO,EAAG,MAAM;AACdI,MAAAA,sBAAsB,CAACU,QAAD,CAAtB;AACD,KANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,CANN,EAiBKX,eAAe,IAAI,oBAAC,KAAD;AAAO,IAAA,QAAQ,EAAG,CAACP,QAAD,EAAWE,SAAX,CAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAA0C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAA1C,CAjBxB,CADF,CAJF,CAFF;AAgCD;;AAED,eAAeL,GAAf","sourcesContent":["import React , { useState, useEffect, Fragment } from 'react';\nimport { Map, Marker, Popup, TileLayer } from 'react-leaflet';\nimport { Icon, popup } from 'leaflet';\nimport \"./app.css\";\nimport axios from 'axios';\n\n\nfunction App() {\n\n  //state principal\n  const [ ubicacion, guardarUbicacion ] = useState([]);\n\n  const [ latitude, guardarlatitude ] = useState('');\n  const [ longitude, guardarlongitude ] = useState('');\n\n  const icon = new Icon({\n    iconUrl: '/iconocarne.png.png',\n    iconSize: [25, 25]\n  });\n\n  const [ubicacionActiva, guardarUbicacionActiva] = useState(null);\n\n  useEffect( () => {\n    const consultarAPI = async () => {\n\n      //trae las etiquetas, las categorias de cada negocio\n      //\"http://tarjetafamilia.catamarca.gob.ar/api/v1/commerce-tags/\"\n     \n      const url = 'https://tarjetafamilia.catamarca.gob.ar/api/v1/commerce/';\n      const resultado = await axios.get(url);\n      guardarUbicacion(resultado.data.data); //genera multiples consultas generando un bucle infinito\n\n\n      guardarlatitude(resultado.data.data[0].attributes.point.coordinates[1])\n      guardarlongitude(resultado.data.data[0].attributes.point.coordinates[0])\n\n    \n      //otra forma de obtener la respuesta de la API comerce\n      // const url = 'https://tarjetafamilia.catamarca.gob.ar/api/v1/commerce/';\n      // const respuesta = await fetch(url);\n      // const resultado = await respuesta.json();\n \n      // guardarUbicacion(resultado.data);\n    }\n    consultarAPI();\n  },[]);\n\n \n  return (\n\n    <Fragment>\n\n      <h1> MAPP </h1>\n      {/* mostrar el mapa \"Map\" pasando \"center\" y \"zoom\" */}\n      <div className=\"mapaCentrado\">\n        <Map center={[-28.468248, -65.778944]} zoom={13}>\n            <TileLayer \n              url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n              attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n            />\n\n            { ubicacion.map( comercio => (\n              <Marker \n                key={comercio.id}\n                position={[latitude, longitude]}\n                icon={icon}\n                onclick= {() => {\n                  guardarUbicacionActiva(comercio);\n                }} \n              />\n            ))}\n\n            {ubicacionActiva && <Popup position= {[latitude, longitude]}> <div>Hola</div></Popup>}\n            \n        </Map>  \n      </div>\n\n    </Fragment>\n\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}